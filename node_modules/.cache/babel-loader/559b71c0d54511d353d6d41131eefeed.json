{"ast":null,"code":"import _regeneratorRuntime from \"/home/devugees/Desktop/react/react_users_sql_1.3.0/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/devugees/Desktop/react/react_users_sql_1.3.0/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"/home/devugees/Desktop/react/react_users_sql_1.3.0/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/devugees/Desktop/react/react_users_sql_1.3.0/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/devugees/Desktop/react/react_users_sql_1.3.0/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/devugees/Desktop/react/react_users_sql_1.3.0/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/devugees/Desktop/react/react_users_sql_1.3.0/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/devugees/Desktop/react/react_users_sql_1.3.0/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/devugees/Desktop/react/react_users_sql_1.3.0/src/components/Users.js\";\nimport React, { Component } from 'react';\nimport Axios from 'axios';\nimport { BrowserRouter as Link } from 'react-router-dom';\n/*\n    This component shows the list of users stored on the database.\n    A table with the name of each user is shown. \n    \n    For each user it's possible to select the name so we are able to see detailed information. This leads to the \"UserDetails\" component (via Routing).\n\n    There's also the button for each name that removes the specific user\n    from the database.\n*/\n\nvar Users =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Users, _Component);\n\n  function Users() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Users);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Users)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      users: null\n    };\n\n    _this.removeUserById = function (id) {\n      try {\n        // Sending the request to the server\n        Axios.delete('http://localhost:1024/user?id=' + id).then(function (response) {\n          // If the operation went well, this same user is also removed from\n          // the \"users\" object\n          var usersTemp = _toConsumableArray(_this.state.users);\n\n          var finalUsers = usersTemp.filter(function (user) {\n            return user.id !== id;\n          });\n\n          _this.setState({\n            users: finalUsers\n          });\n\n          alert('User successfully deleted.');\n        });\n      } catch (error) {\n        console.log('error = ' + error);\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Users, [{\n    key: \"componentDidMount\",\n\n    /**\n     * After being mounted, a request is sent to the server.\n     * The response will be an array with the list of users.\n     */\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                try {\n                  Axios.get('http://localhost:1024/userslist').then(function (response) {\n                    _this2.setState({\n                      users: response.data\n                    });\n                  });\n                } catch (error) {\n                  console.log('error = ' + error);\n                }\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      };\n    }() // Remove user from the array using an id\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      // Style for the button that removes the user\n      var buttonStyle = {\n        borderRadius: '8%',\n        backgroundColor: 'black',\n        color: 'silver',\n        width: '36px',\n        height: '36px',\n        boxShadow: '0 4px 8px 0 rgba(128, 98, 31, 0.2), 0 6px 20px 0 rgba(128, 98, 31, 0.19)',\n        fontSize: '1.0em',\n        margin: '2%'\n      }; // Setting for each cell of the table\n\n      var cellStyle = {\n        textAlign: 'center',\n        width: '80px',\n        margin: '0 5px 0 5px'\n      };\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"Users\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: \"UsersList\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        className: \"headersStyle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"Name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"Action\"))), React.createElement(\"tbody\", {\n        className: \"dataCells\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, this.state.users && this.state.users.map(function (user) {\n        return React.createElement(\"tr\", {\n          key: user.id,\n          style: cellStyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: '/userdetails/' + user.id,\n          title: \"View user details\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        }, user.name)), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          title: \"Remove this user\",\n          onClick: function onClick() {\n            return _this3.removeUserById(user.id);\n          },\n          style: buttonStyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fas fa-user-minus remove-icon\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        })), ' '));\n      })))));\n    }\n  }]);\n\n  return Users;\n}(Component);\n\nexport { Users as default };","map":{"version":3,"sources":["/home/devugees/Desktop/react/react_users_sql_1.3.0/src/components/Users.js"],"names":["React","Component","Axios","BrowserRouter","Link","Users","state","users","removeUserById","id","delete","then","response","usersTemp","finalUsers","filter","user","setState","alert","error","console","log","get","data","buttonStyle","borderRadius","backgroundColor","color","width","height","boxShadow","fontSize","margin","cellStyle","textAlign","map","name"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Axios from 'axios';\n\nimport { BrowserRouter as Link } from 'react-router-dom';\n\n/*\n    This component shows the list of users stored on the database.\n    A table with the name of each user is shown. \n    \n    For each user it's possible to select the name so we are able to see detailed information. This leads to the \"UserDetails\" component (via Routing).\n\n    There's also the button for each name that removes the specific user\n    from the database.\n*/\nexport default class Users extends Component {\n  // State with the only needed object, initialized with null value\n  state = {\n    users: null\n  };\n\n  /**\n   * After being mounted, a request is sent to the server.\n   * The response will be an array with the list of users.\n   */\n  async componentDidMount() {\n    try {\n      Axios.get('http://localhost:1024/userslist').then(response => {\n        this.setState({\n          users: response.data\n        });\n      });\n    } catch (error) {\n      console.log('error = ' + error);\n    }\n  }\n\n  // Remove user from the array using an id\n  removeUserById = id => {\n    try {\n      // Sending the request to the server\n      Axios.delete('http://localhost:1024/user?id=' + id).then(response => {\n        // If the operation went well, this same user is also removed from\n        // the \"users\" object\n        const usersTemp = [...this.state.users];\n\n        let finalUsers = usersTemp.filter(user => user.id !== id);\n\n        this.setState({\n          users: finalUsers\n        });\n        alert('User successfully deleted.');\n      });\n    } catch (error) {\n      console.log('error = ' + error);\n    }\n  };\n\n  render() {\n    // Style for the button that removes the user\n    let buttonStyle = {\n      borderRadius: '8%',\n      backgroundColor: 'black',\n      color: 'silver',\n      width: '36px',\n      height: '36px',\n      boxShadow:\n        '0 4px 8px 0 rgba(128, 98, 31, 0.2), 0 6px 20px 0 rgba(128, 98, 31, 0.19)',\n      fontSize: '1.0em',\n      margin: '2%'\n    };\n\n    // Setting for each cell of the table\n    let cellStyle = {\n      textAlign: 'center',\n      width: '80px',\n      margin: '0 5px 0 5px'\n    };\n\n    return (\n      <React.Fragment>\n        <div className=\"Users\">\n          <table className=\"UsersList\">\n            <thead>\n              <tr className=\"headersStyle\">\n                <th>Name</th>\n\n                <th>Action</th>\n              </tr>\n            </thead>\n            <tbody className=\"dataCells\">\n              {/* Here the cell are only shown when the \"users\" object has information stored. By the use of \"map\" (which works as a loop), each selected user is then presented by the name. */}\n              {this.state.users &&\n                this.state.users.map(user => {\n                  return (\n                    <tr key={user.id} style={cellStyle}>\n                      <td>\n                        {/* This is the link to the \"UserDetails\" component. It's important to have the id of the user to be sent. */}\n                        <Link\n                          to={'/userdetails/' + user.id}\n                          title=\"View user details\"\n                        >\n                          {user.name}\n                        </Link>\n                      </td>\n                      <td>\n                        {/* This button calls the function \"removeUserById\" implemented above. It could also be written by \"this.removeUserById.bind(user.id)\". */}\n                        <button\n                          title=\"Remove this user\"\n                          onClick={() => this.removeUserById(user.id)}\n                          style={buttonStyle}\n                        >\n                          {/* Icon characterization from the site Font Awesome. */}\n                          <i className=\"fas fa-user-minus remove-icon\" />\n                        </button>{' '}\n                      </td>\n                    </tr>\n                  );\n                })}\n            </tbody>\n          </table>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}